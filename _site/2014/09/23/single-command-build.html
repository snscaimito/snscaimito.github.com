<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Build with a single command</title>
	
	<link rel="canonical" href="http://0.0.0.0:4000/2014/09/23/single-command-build.html"/>
	
	<link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="/css/syntax.css" type="text/css" />
	<link rel="stylesheet" href="/css/schwab.css" type="text/css" />
	<link rel="stylesheet" href="/css/print.css" media="print" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans+Condensed|Sansita:700|Zilla+Slab" rel="stylesheet">
	
	<link rel="alternate" type="application/rss+xml" title="Stephan Schwab" href="/rss.xml"/>

	<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
	<script type='text/javascript' src='/unitegallery/js/unitegallery.min.js'></script> 
		
	<link rel='stylesheet' href='/unitegallery/css/unite-gallery.css' type='text/css' /> 
	<script type='text/javascript' src='/unitegallery/themes/tiles/ug-theme-tiles.js'></script> 

	<meta property="og:title" content="Build with a single command">
	<meta property="twitter:title" content="Build with a single command">
	<meta property="og:description" content="">
	<meta property="twitter:description" content="">
	<meta property="og:type" content="article">
	<meta property="og:url" content="http://0.0.0.0:4000/2014/09/23/single-command-build.html">
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:site" content="@snscaimito">
	
</head>


<body>
	<div class="container">
		<div class="header no-print">
  <div class="menu">
    <a href="/">Home</a>
    <a href="/category/software_development.html">Software</a>
    <a href="/category/farm-life.html">Farm Life</a>
    <a href="/category/Business.html">Business</a>
    <a href="/category/aviation.html">Aviation</a>
  </div>
  <div class="claim-box">
    <p class="claim">Tales about Aviation, Coaching, Farming, Software Development</p>
  </div>
</div>
		<div class="row">
			<div class="span9">
				<div class="post">
					<h1>Build with a single command</h1>
          <div class="ale_news_post_header">

	<p>This blog post is part of a series about the development of ALE News using an approach to software development called Acceptance Test-Driven Development. <a href="/ale-news.html">For an overview please see the introductory article</a>.</p>
	
</div>

<p>To me, being able to build a software product with a single command on the command line is very important. I want to be able to check out the source code from version control and then type a single command. After a while, can be a minute or 30 minutes, all components should be built and tested and the product is ready to be used.</p>

<p>I call this the ability to deliver at any point in time. And I want to defend it once I’ve gained it.</p>

<p>For version 0.0.1 the project layout looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>11:48 sns ~/tmp/ale-news-atdd  ((article-service-0.0.1))$ ls -l
total 0
drwxr-xr-x  7 sns  staff  238 23 Sep 11:47 article-service
11:48 sns ~/tmp/ale-news-atdd  ((article-service-0.0.1))$ cd article-service/
11:48 sns ~/tmp/ale-news-atdd/article-service  ((article-service-0.0.1))$ ls -l
total 24
-rw-r--r--   1 sns  staff    78 23 Sep 11:46 TODO.md
-rw-r--r--   1 sns  staff  4280 23 Sep 11:46 pom.xml
drwxr-xr-x   4 sns  staff   136 23 Sep 11:46 src
</code></pre></div></div>

<p>The main project directory is <code>ale-news-atdd</code> and inside that I am using another directory for the article service. It does contain a <code>pom.xml</code> file for the Maven configuration to build the project and the source code in <code>src</code>.</p>

<h2 id="single-command-build-for-the-article-service">Single command build for the Article Service</h2>
<p>To build the article service, which at the moment is the only piece I have so far, a single command is all that is needed: <code>mvn install</code></p>

<p>Maven will fetch all dependencies, compile, run tests and package the article service in one single run. The promise is: if the build succeeds, then it is good and ready to be shipped.</p>

<p><em>For brevity I have removed some of Maven’s warning messages from the following output.</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>12:00 sns ~/tmp/ale-news-atdd/article-service  ((article-service-0.0.1))$ mvn install
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building article-service Maven Webapp 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ article-service ---
[INFO] skip non existing resourceDirectory /Users/sns/tmp/ale-news-atdd/article-service/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ article-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to /Users/sns/tmp/ale-news-atdd/article-service/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ article-service ---
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ article-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /Users/sns/tmp/ale-news-atdd/article-service/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ article-service ---
[INFO] 
[INFO] --- maven-war-plugin:2.2:war (default-war) @ article-service ---
[INFO] Packaging webapp
[INFO] Assembling webapp [article-service] in [/Users/sns/tmp/ale-news-atdd/article-service/target/article-service]
[INFO] Processing war project
[INFO] Copying webapp resources [/Users/sns/tmp/ale-news-atdd/article-service/src/main/webapp]
[INFO] Webapp assembled in [138 msecs]
[INFO] Building war: /Users/sns/tmp/ale-news-atdd/article-service/target/article-service.war
[INFO] WEB-INF/web.xml already added, skipping
</code></pre></div></div>

<p>Up to this point the source has been compiled and the web application was created. There is now a WAR file available that can be deployed to a servlet container or application server.</p>

<p>I am using the Tomcat plugin for Maven to start a servlet container to run tests:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[INFO] 
[INFO] &gt;&gt;&gt; tomcat7-maven-plugin:2.2:run (start-tomcat) &gt; process-classes @ article-service &gt;&gt;&gt;
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ article-service ---
[INFO] skip non existing resourceDirectory /Users/sns/tmp/ale-news-atdd/article-service/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ article-service ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] &lt;&lt;&lt; tomcat7-maven-plugin:2.2:run (start-tomcat) &lt; process-classes @ article-service &lt;&lt;&lt;
[INFO] 
[INFO] --- tomcat7-maven-plugin:2.2:run (start-tomcat) @ article-service ---
[INFO] Running war on http://localhost:8080/article-service
[INFO] Creating Tomcat server configuration at /Users/sns/tmp/ale-news-atdd/article-service/target/tomcat
[INFO] create webapp with contextPath: /article-service
Sep 23, 2014 12:01:02 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Sep 23, 2014 12:01:02 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Tomcat
Sep 23, 2014 12:01:02 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.47
Sep 23, 2014 12:01:05 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8080"]
</code></pre></div></div>

<p>Tomcat has started and the application is deployed.</p>

<p>Next Maven will use the Surefire plugin to execute my tests. <code>RunCukesIntegrationTest</code> is the Cucumber test runner, which uses JUnit as platform and is bound to the integration-test phase.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[INFO] 
[INFO] --- maven-failsafe-plugin:2.17:integration-test (default) @ article-service ---
[INFO] Failsafe report directory: /Users/sns/tmp/ale-news-atdd/article-service/target/failsafe-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running net.caimito.ale_news.article_service.RunCukesIntegrationTest
Feature: CRUD and list scooped articles

  Scenario: Create new article metadata                                                   # net/caimito/ale_news/article_service/articles.feature:3
    When I post the following article metadata to the article service with URI "/article" # ArticleStepDefinitions.postArticle(String,ArticleMetadata&gt;)
    Then an article ID is returned                                                        # ArticleStepDefinitions.an_article_ID_is_returned()
    And the article metadata has been stored in the archive                               # ArticleStepDefinitions.the_article_metadata_has_been_stored_in_the_archive()

  Scenario: Read article metadata                                                                     # net/caimito/ale_news/article_service/articles.feature:10
    Given some article metadata with key "550e8400-e29b-11d4-a716-446655440000" exists in the archive # ArticleStepDefinitions.some_article_metadata_with_key_exists_in_the_archive(String)
    When I ask the article service with URI "/article/550e8400-e29b-11d4-a716-446655440000"           # ArticleStepDefinitions.i_ask_the_article_service_with_URI_for_article_id(String)
    Then I receive the article metadata                                                               # ArticleStepDefinitions.i_receive_the_article_metadata()

  Scenario: Update article metadata                                                               # net/caimito/ale_news/article_service/articles.feature:15
    Given the article with key "550e8400-e29b-11d4-a716-446655440000" exists in the archive       # ArticleStepDefinitions.the_article_with_key_exists_in_the_archive(String,ArticleMetadata&gt;)
    When I update details of the article with URI "/article/550e8400-e29b-11d4-a716-446655440000" # ArticleStepDefinitions.i_update_details_of_the_article_with_URI(String,ArticleMetadata&gt;)
    Then the metadata for article "550e8400-e29b-11d4-a716-446655440000" in the archive is        # ArticleStepDefinitions.the_article_metadata_in_the_archive_is(String,ArticleMetadata&gt;)

  Scenario: Delete article metadata                                                         # net/caimito/ale_news/article_service/articles.feature:26
    Given the article with key "550e8400-e29b-11d4-a716-446655440000" exists in the archive # ArticleStepDefinitions.the_article_with_key_exists_in_the_archive(String,ArticleMetadata&gt;)
    When I delete the article with key "550e8400-e29b-11d4-a716-446655440000"               # ArticleStepDefinitions.i_delete_the_article_with_key(String)
    Then the article with key "550e8400-e29b-11d4-a716-446655440000" does not exist         # ArticleStepDefinitions.the_article_with_key_does_not_exist(String)

  Scenario: List article metadata                         # net/caimito/ale_news/article_service/articles.feature:33
    Given some articles exist in the archive              # ArticleStepDefinitions.some_articles_exist_in_the_archive()
    When I ask for a list of articles with URI "/article" # ArticleStepDefinitions.i_ask_for_a_list_of_articles_with_URI(String)
    Then I will receive a list of articles                # ArticleStepDefinitions.i_will_receive_a_list_of_articles()

5 Scenarios (5 passed)
15 Steps (15 passed)
0m2.039s

Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.646 sec - in net.caimito.ale_news.article_service.RunCukesIntegrationTest

Results :

Tests run: 20, Failures: 0, Errors: 0, Skipped: 0
</code></pre></div></div>

<p>All Cucumber scenarios pass. Maven will now shutdown Tomcat:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[INFO] 
[INFO] --- tomcat7-maven-plugin:2.2:shutdown (stop-tomcat) @ article-service ---
Sep 23, 2014 12:01:08 PM org.apache.coyote.AbstractProtocol pause
INFO: Pausing ProtocolHandler ["http-bio-8080"]
Sep 23, 2014 12:01:08 PM org.apache.catalina.core.StandardService stopInternal
INFO: Stopping service Tomcat
Sep 23, 2014 12:01:09 PM org.apache.coyote.AbstractProtocol stop
INFO: Stopping ProtocolHandler ["http-bio-8080"]
[INFO] 
[INFO] --- maven-failsafe-plugin:2.17:verify (default) @ article-service ---
[INFO] Failsafe report directory: /Users/sns/tmp/ale-news-atdd/article-service/target/failsafe-reports
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ article-service ---
[INFO] Installing /Users/sns/tmp/ale-news-atdd/article-service/target/article-service.war to /Users/sns/.m2/repository/net/caimito/ale-news/article-service/0.0.1-SNAPSHOT/article-service-0.0.1-SNAPSHOT.war
[INFO] Installing /Users/sns/tmp/ale-news-atdd/article-service/pom.xml to /Users/sns/.m2/repository/net/caimito/ale-news/article-service/0.0.1-SNAPSHOT/article-service-0.0.1-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 10.547 s
[INFO] Finished at: 2014-09-23T12:01:09+08:00
[INFO] Final Memory: 48M/513M
[INFO] ------------------------------------------------------------------------
</code></pre></div></div>

<p>With the BUILD SUCCESS message on the screen I now have the <code>article-service.war</code> available for deployment into production. It does behave as specified in <code>articles.feature</code>.</p>

<h2 id="cutting-release-001">Cutting release 0.0.1</h2>
<p>Because all tests/scenarios are good, I can run <code>mvn release:prepare</code> and actually perform the release. In economic language: <strong>by now I have realized value and gotten a return on my investment into writing the specification and the code to pass it</strong>.</p>

<h2 id="are-we-done-now">Are we done now?</h2>
<p>No, we are not yet done. But we have a positive starting point and we can actually show the result to a customer to ask “Is this the behavior you expect from the Article Service?”</p>

<p>The specification does not exist to verify the Article Service. It does exist to find out and clarify expected behavior. It is a starting point for further collaboration and acts as a first checkpoint.</p>

<div class="ale_news_post_footer">
	<h2>More in this series</h2>
	<ul>
	
		 <li>03 Nov 2014 <a href="/2014/11/03/selecting-a-test-and-automation-tool-for-ios.html">Selecting a test and automation tool for IOS</a></li>
	
		 <li>27 Oct 2014 <a href="/2014/10/27/making-my-IOS-world-a-better-place.html">Making my IOS world a better place</a></li>
	
		 <li>19 Oct 2014 <a href="/2014/10/19/making-the-world.html">Making the world</a></li>
	
		 <li>14 Oct 2014 <a href="/2014/10/14/scenarios-that-depend-on-each-other-are-bad.html">Scenarios that depend on each other are bad</a></li>
	
		 <li>10 Oct 2014 <a href="/2014/10/10/improving-the-fake-storage.html">Improving the fake storage</a></li>
	
		 <li>29 Sep 2014 <a href="/2014/09/29/how-to-verify-things.html">How to verify things</a></li>
	
		 <li>27 Sep 2014 <a href="/2014/09/27/what-should-ale-news-web-client-do.html">What should the ALE News web client do?</a></li>
	
		 <li>26 Sep 2014 <a href="/2014/09/26/selecting-tools-for-testing-the-web-client.html">Selecting tools for testing the web client</a></li>
	
		 <li>25 Sep 2014 <a href="/2014/09/25/learning-angularjs-to-create-the-ale-news-web-client.html">Learning AngularJS to create the ALE News web client</a></li>
	
		 <li>24 Sep 2014 <a href="/2014/09/24/adding-web-client.html">Adding the web client module</a></li>
	
		 <li>23 Sep 2014 <a href="/2014/09/23/single-command-build.html">Build with a single command</a></li>
	
		 <li>19 Sep 2014 <a href="/2014/09/19/first-draft-of-article-service.html">First draft of the article service</a></li>
	
	</ul>
</div>


					<table class="postfooter" style="width: 100%">
					<tr>
						<td style="text-align: left; width: 33%"><a href="/2014/09/22/chinese-thank-you-dinner.html">Previous</a></td>
						<td style="text-align: center; width: 33%">23 Sep 2014</td>
						<td style="text-align: right; width: 33%"><a href="/2014/09/24/adding-web-client.html">Next</a></td>
					</tr>
					</table>
					<p>This article has been posted to social media sites. There might be comments. Just follow the links:</p>
					<div>
						<a class="social-blogging" service="twitter" href="https://twitter.com/snscaimito"><img src="/img/Furry-Cushion-Twitter_48.png" /></a>
						<a class="social-blogging" service="activityPub" rel="me" href="https://techhub.social/@snscaimito"><img src="/img/mastodon.svg" width="48" /></a>
					</div>
				</div>
			</div>
			<div class="span3">
        <div class="sidebar">
        	<p class="section">About this article</p>
          <p>Published: September 23, 2014</p>
					<p>Posted in:
						
							<a class="categoryLink" href="/category/atdd.html">atdd</a>
						
							<a class="categoryLink" href="/category/software_development.html">software_development</a>
						
					</p>
          
        </div>
				<div class="sidebar">
	<p class="section">About me</p>
	<p>Hello! My name is <a href="/">Stephan Schwab</a>.</p>
			<a href="/"><img src="http://www.gravatar.com/avatar/663d11426b0a187ddac59f8c17ce61b4?s=90" class="align-left"/></a>
		<p>As International Software Development Coach and Consultant I help CEOs and Department Leaders to <strong>improve</strong> <strong>value creation</strong> and <strong>cohesion</strong> within their organization. The outcome will be higher <strong>quality</strong>, <strong>customer delight</strong> and <strong>more revenue</strong>.</p> 
		
		<p>Learn about <a href="/resume/">my professional experience</a> since 1986.</p>
    <span style="clear:both; float:none"/>

	<p class="section">Professional Services</p>
	<p>I'm fluent in these languages:</p>
	<p align="center">
		<a href="/category/en.html"><img src="/img/language-flags/32x32/flag_rotate-02.png"></a>
		<a href="/category/de.html"><img src="/img/language-flags/32x32/flag_rotate-03.png"></a>
		<a href="/category/es.html"><img src="/img/language-flags/32x32/flag_rotate-12.png"></a>
	</p>
	<p align="center">
		<small>
			<a href="/category/en.html">English</a>
			<a href="/category/de.html">German</a>
			<a href="/category/es.html">Spanish</a>
		</small>
	</p>
	<div class="no-print-sidebar">
		<p>Scrum Pair-Coaching to develop technical competence:</p>
		<p align="center">Details in <a href="/en-pair-coaching-scrummaster.html">English</a>, <a
				href="/de-pair-coaching-scrummaster.html">Deutsch</a></p>

		<p><strong>Resources for new clients</strong>:</p>
		<p align="center"><a href="/resources/de-new-client.html">Deutsch</a></p>
	</div>

	<div class="no-print-sidebar">
		<p class="section noprint">Search</p>
		<form method="get" action="http://www.google.com/search">
			<p align="center"><input type="text" name="q" maxlength="255" value="" style="width: 180px" /></br>
				<input type="submit" value="Google Search" class="btn btn-primary btn-mini" />
			</p>
			<input type="hidden" name="sitesearch" value="http://www.stephan-schwab.com" />
		</form>

		<p class="section">Special&nbsp;Content</p>
		<ul class="special-content">
			<li><a href="/atdd/">Acceptance Test-Driven Development</a></li>
			<li><a href="/software-design/">Software Design</a></li>
			<li><a href="/sddm.html">Software Development Decision Making</a></li>
		</ul>
		<ul class="special-content">
			<li><a href="/coaching-future-masters.html">Coaching future masters</a></li>
		</ul>
		<ul class="special-content">
			<li><a href="/farmstead.html">Developing a farmstead in Andalucia, Spain</a></li>
			<li><a href="/house/">Building a house, Spain</a></li>
			<li><a href="/airtravel/">Business travel with light aircraft</a></li>
			<li><a href="/horses/">Horses</a></li>
			<li><a href="/panama-farm.html">Rainforest Farm, Panama</a></li>
			<li><a href="/galleries/">Photo Galleries</a></li>
		</ul>
		<ul class="special-content">
			<li><a href="/reading-list.html">My reading list</a></li>
		</ul>

		<p class="section">Highlights of the Year</p>
		<ul class="special-content">
			
			<li><a href="/2016/12/27/highlights-of-2016.html">2016</a></li>
			
			<li><a href="/2015/12/31/highlights-2015.html">2015</a></li>
			
			<li><a href="/2014/12/31/highlights-2014.html">2014</a></li>
			
			<li><a href="/2013/12/31/hightlights-2013.html">2013</a></li>
			
			<li><a href="/2012/12/31/highlights-2012.html">2012</a></li>
			
			<li><a href="/2011/12/31/highlights-2011.html">2011</a></li>
			
			<li><a href="/2010/12/31/highlights-2010.html">2010</a></li>
			
			<li><a href="/2009/12/31/highlights-2009.html">2009</a></li>
			
			<li><a href="/2008/12/31/highlights-2008.html">2008</a></li>
			
			<li><a href="/2007/12/31/highlights-2007.html">2007</a></li>
			
			<li><a href="/2006/12/31/highlights-2006.html">2006</a></li>
			
		</ul>

		<p class="section">Living on planet Earth</p>
		<ul class="special-content">
			<li><a href="/dominican-republic.html">Dominican Republic</a></li>
			<li><a href="/china.html">China</a></li>
			<li><a href="/germany.html">Germany</a></li>
			<li><a href="/panama.html">Panama</a></li>
			<li><a href="/spain.html">Spain</a></li>
			<li><a href="/usa.html">USA</a></li>
		</ul>

		<p class="section">Open Source Projects</p>
		<ul class="special-content">
			<li><a href="/ale-news.html">Development of ALE News</a></li>
			<li><a href="https://github.com/snscaimito/RAutomation">RAutomation</a></li>
			<li><a href="/open-source.html">Other contributions to Open Source</a></li>
		</ul>

		<p class="section">Stay in touch</p>
		<p align="center">
			<a href="/rss.xml"><img src="/img/Furry-Cushion-RSS_48.png" /></a>
			<a href="https://twitter.com/snscaimito"><img src="/img/Furry-Cushion-Twitter_48.png" /></a>
			<a href="http://www.linkedin.com/in/stephanschwab"><img src="/img/Furry-Cushion-LinkedIn_48.png" /></a>
		</p>
		<p align="center">
			<a rel="me" href="https://techhub.social/@snscaimito"><img src="/img/mastodon.svg" width="48" /></a>
			<a href="https://bsky.app/profile/snscaimito.bsky.social"><img src="/img/Bluesky_butterfly-logo.svg"
					width="65" /></a>
			<a href="https://www.tiktok.com/@snscaimito"><img src="/img/tiktok-icon-white-1-logo-svgrepo-com.svg"
					width="48" /></a>
		</p>
		<p align="center">
			<a href="mailto:sns@caimito.net?subject=From%20stephan-schwab.com">sns@caimito.net</a>
		</p>

		<p class=" section">My Books
		</p>
		<p align="center"><a href="https://leanpub.com/activitycentereddesign"><img
					src="/img/smarter-software-with-activity-centered-design.jpg" /></a></p>
		<p align="center"><a href="https://leanpub.com/essays-on-software-development-2012"><img
					src="/img/essays-on-software-development-2012.png" /></a></p>

		<p class="section">Everything</p>
		<p>See a listing of <a href="/all-posts.html">all posts</a> on this site.</p>
	</div>
</div>
			</div>
		</div>
	</div>
		<script src="//use.typekit.net/npx1yoc.js"></script>
	<script>try{Typekit.load();}catch(e){}</script>
	
	<script type="text/javascript" src="/js/bootstrap.min.js"></script>

	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-35257032-1', 'auto');
	  ga('require', 'displayfeatures');
	  ga('send', 'pageview');

	</script>
	<script type="text/javascript"> 
		jQuery(document).ready(function(){ 
			jQuery("#gallery").unitegallery(); 
		}); 
	</script>
	
	<script>
		$(document).ready(function() {
			$('.social-blogging').each(function() {
				const service = $(this).attr('service');
				const url = `/api/posted-on/${service}?article=${window.location.pathname}`;

				fetch(url)
					.then(response => response.json())
					.then(data => {
						console.log(data)
						$(this).attr('href', data.postUrl)
					})
					.catch(error => console.error('Error:', error));
			})
		})
	</script>

</body>
</html>
